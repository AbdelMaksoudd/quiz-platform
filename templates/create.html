{% extends "layout.html" %}

{% block head %}
<style>

button {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
}

#add-question {
    background: #007bff;
    color: white;
}

#add-question:hover {
    background: #0056b3;
}

button[type="submit"] {
    background: green;
    color: white;
}

button[type="submit"]:hover {
    background: darkgreen;
}

.create-wrapper {
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    gap: 20px;
    margin: 40px auto;
    max-width: 1100px;
    padding: 0 20px;

}

.form-container {
    flex: 1;
    max-width: none;
}

.side-box {
    flex: 0 0 280px;
}


.option {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    gap: 10px;
}

.option label {
    display: flex;
    align-items: center;
    gap: 5px;
    min-width: 100px;
}


</style>
{% endblock %}


{% block title %}
    Create Quiz
{% endblock %}

{% block main %}



<div class="create-wrapper">

    <div class="form-container">
        <h2>Create Quiz</h2>

        <div id="msg" class="message" style="display:none;"></div>

    <form action="/create" method="post" id="quizForm" >

            <div id="questions-wrapper">
                <div class="question-box">
    <label>Question</label>
    <input type="text" name="question[]" placeholder="Enter question">

    <div class="option">
    <label>
        <input type="radio" name="correct_0" value="a">
        Option A
    </label>
    <input type="text" name="option_a[]" placeholder="Enter option A">
</div>

<div class="option">
    <label>
        <input type="radio" name="correct_0" value="b">
        Option B
    </label>
    <input type="text" name="option_b[]" placeholder="Enter option B">
</div>

<div class="option">
    <label>
        <input type="radio" name="correct_0" value="c">
        Option C
    </label>
    <input type="text" name="option_c[]" placeholder="Enter option C">
</div>

<div class="option">
    <label>
        <input type="radio" name="correct_0" value="d">
        Option D
    </label>
    <input type="text" name="option_d[]" placeholder="Enter option D">
</div>

</div>

            </div>

            <div class="buttons-row">
                <button type="button" id="add-question">+</button>
                <button type="submit">Create</button>
            </div>

    </div>

    <div class="form-container side-box">
        <h2>Exam Info</h2>
        <label>Exam Title</label>
        <input type="text" name="title" placeholder="Enter exam title">

        <label>Description</label>
        <input type="text" name="description" placeholder="Enter description">
    </div>
    </form>
</div>


{% endblock %}

{% block script %}
document.getElementById("add-question").addEventListener("click", () => {
    let wrapper = document.getElementById("questions-wrapper");

    let index = wrapper.querySelectorAll(".question-box").length;

    let box = document.createElement("div");
    box.classList.add("question-box");

    box.innerHTML = `
        <label>Question</label>
        <input type="text" name="question[]" placeholder="Enter question">

        <div class="option">
            <input type="radio" name="correct_${index}" value="a">
            <label>Option A</label>
            <input type="text" name="option_a[]" placeholder="Enter option A">
        </div>

        <div class="option">
            <input type="radio" name="correct_${index}" value="b">
            <label>Option B</label>
            <input type="text" name="option_b[]" placeholder="Enter option B">
        </div>

        <div class="option">
            <input type="radio" name="correct_${index}" value="c">
            <label>Option C</label>
            <input type="text" name="option_c[]" placeholder="Enter option C">
        </div>

        <div class="option">
            <input type="radio" name="correct_${index}" value="d">
            <label>Option D</label>
            <input type="text" name="option_d[]" placeholder="Enter option D">
        </div>
    `;

    wrapper.appendChild(box);
});
{% endblock %}
